{
  "_meta": {
    "note": [
      "Single source of truth for DB schema and LLM output.",
      "Edit these tables to add/remove fields, then run: python db/sync_db.py",
      "Use --prune-columns (with a backup) to drop fields removed here.",
      "Model tables use snake_case: f150, super_duty, bronco_sport, mach_e, f150_lightning"
    ]
  },

  "tables": {
    "vehicles": {
      "vin": "string (VIN; primary key)",
      "stock": "string or null (CSV-owned)",
      "photo_urls": "string or null (CSV-owned; comma-separated URLs)",
      "vehicle_link": "string or null (CSV-owned)",

      "model_table": "string (model table name: f150|super_duty|explorer|maverick|mach_e|bronco|bronco_sport|mustang|expedition|ranger|escapes|f150_lightning|transit|unknown)",

      "year": "integer",
      "make": "string",
      "model": "string",
      "trim": "string",
      "paint": "string",
      "interior_color": "string",
      "interior_material": "string",
      "body_style": "string",
      "fuel": "string",

      "msrp": "number",
      "pricing": {
        "base_price": "number",
        "total_options": "number",
        "total_vehicle": "number",
        "destination_delivery": "number",
        "discount": "number or null"
      },

      "optional_equipment": [
        {
          "description": "string",
          "included": "string or null (comma-separated sub-items)",
          "cost": "number or string"
        }
      ],
      "standard_equipment": ["array of strings"],

      "final_assembly_plant": "string",
      "method_of_transport": "string",
      "special_order": "boolean or null",
      "preferred_equipment_pkg": "string or null",
      "preferred_equipment_pkg_cost": "number or null",
      "equipment_group": "alias of preferred_equipment_pkg (use preferred_equipment_pkg)",
      "equipment_group_discount": "alias of preferred_equipment_pkg_cost (use preferred_equipment_pkg_cost)",
      "address": "string or null",

      "mpg": {
        "city": "integer or null",
        "highway": "integer or null",
        "combined": "integer or null"
      },

      "engine": "string",
      "engine_displacement": "string",
      "cylinder_count": "integer or null",
      "drivetrain": "string",
      "transmission_type": "string",
      "transmission_speeds": "string or null"
    },

    "f150": {
      "truck_body_style": "string or null",
      "rear_axle_configuration": "string or null",
      "wheelbase": "number or string or null",
      "bed_length": "number or string or null (feet; e.g. 5.5, 6.5, 8.0)",
      "axle_ratio": "number or null",
      "axle_ratio_type": "string or null",
      "towing_conventional_lbs": "integer or null (computed from towing guide + config)",
      "towing_fifth_wheel_lbs": "integer or null (computed from towing guide + config)",
      "towing_gooseneck_lbs": "integer or null (computed from towing guide + config)",
      "payload_capacity_lbs": "integer or null (from sticker if available; else null)",
      "gcwr_lbs": "integer or null (computed/selected from towing guide tables where applicable)"
    },

    "super_duty": {
      "truck_body_style": "string or null",
      "rear_axle_configuration": "string or null",
      "wheelbase": "number or string or null",
      "bed_length": "number or string or null (feet; e.g. 6.75, 8.0)",
      "axle_ratio": "number or null",
      "axle_ratio_type": "string or null",
      "towing_conventional_lbs": "integer or null (computed from towing guide + config)",
      "towing_fifth_wheel_lbs": "integer or null (computed from towing guide + config)",
      "towing_gooseneck_lbs": "integer or null (computed from towing guide + config)",
      "payload_capacity_lbs": "integer or null (from sticker if available; else null)",
      "gcwr_lbs": "integer or null (computed/selected from towing guide tables where applicable)"
    },

    "ranger": {
      "truck_body_style": "string or null",
      "rear_axle_configuration": "string or null",
      "wheelbase": "number or string or null",
      "bed_length": "number or string or null (feet)",
      "axle_ratio": "number or null",
      "axle_ratio_type": "string or null",
      "towing_conventional_lbs": "integer or null (computed from towing guide + config)",
      "payload_capacity_lbs": "integer or null (from sticker if available; else null)",
      "gcwr_lbs": "integer or null (computed/selected from towing guide tables where applicable)"
    },

    "maverick": {
      "truck_body_style": "string or null",
      "rear_axle_configuration": "string or null",
      "wheelbase": "number or string or null",
      "bed_length": "number or string or null (feet)",
      "axle_ratio": "number or null",
      "axle_ratio_type": "string or null",
      "towing_conventional_lbs": "integer or null (computed from towing guide + config)",
      "payload_capacity_lbs": "integer or null (from sticker if available; else null)",
      "gcwr_lbs": "integer or null (computed/selected from towing guide tables where applicable)"
    },

    "f150_lightning": {
      "truck_body_style": "string or null",
      "wheelbase": "number or string or null",
      "battery_capacity": "string or null",
      "range_estimate": "integer or null"
    },

    "explorer": {},

    "expedition": {},

    "bronco": {},

    "bronco_sport": {},

    "escapes": {},

    "mach_e": {
      "battery_capacity": "string or null",
      "range_estimate": "integer or null"
    },

    "mustang": {
      "horsepower": "integer or null",
      "torque": "integer or null"
    },

    "transit": {
      "cargo_length": "string or null",
      "roof_height": "string or null"
    }
  },

  "model_table_map": {
    "F-150": "f150",
    "F-150 Lightning": "f150_lightning",
    "F-250": "super_duty",
    "F-350": "super_duty",
    "F-450": "super_duty",
    "F-550": "super_duty",
    "F-600": "super_duty",
    "F-650": "super_duty",
    "F-750": "super_duty",
    "Super Duty": "super_duty",
    "Ranger": "ranger",
    "Maverick": "maverick",
    "Explorer": "explorer",
    "Expedition": "expedition",
    "Bronco": "bronco",
    "Bronco Sport": "bronco_sport",
    "Escape": "escapes",
    "Mustang Mach-E": "mach_e",
    "Mach-E": "mach_e",
    "Mustang": "mustang",
    "GT": "mustang",
    "Transit": "transit",
    "E-Transit": "transit",
    "Transit Connect": "transit"
  },

  "labels": {
    "vin": "string (VIN from sticker; uppercase if possible)",
    "stock": "string or null (CSV-owned; keep if known)",
    "photo_urls": "string or null (CSV-owned; comma-separated URLs)",
    "vehicle_link": "string or null (CSV-owned)",
    "model_table": "string (model table name for DB routing)",
    "year": "integer",
    "make": "string",
    "model": "string",
    "trim": "string",
    "paint": "string",
    "interior_color": "string",
    "interior_material": "string",
    "body_style": "string",
    "fuel": "string",
    "msrp": "number",
    "base_price": "number",
    "total_options": "number",
    "total_vehicle": "number",
    "destination_delivery": "number",
    "discount": "number or null",
    "optional_equipment": [
      {
        "description": "string",
        "included": "string or null (comma-separated sub-items)",
        "cost": "number or string"
      }
    ],
    "standard_equipment": ["array of strings"],
    "final_assembly_plant": "string",
    "method_of_transport": "string",
    "special_order": "boolean or null",
    "preferred_equipment_pkg": "string or null",
    "preferred_equipment_pkg_cost": "number or null",
    "equipment_group": "alias of preferred_equipment_pkg (use preferred_equipment_pkg)",
    "equipment_group_discount": "alias of preferred_equipment_pkg_cost (use preferred_equipment_pkg_cost)",
    "address": "string or null",
    "mpg": {
      "city": "integer or null",
      "highway": "integer or null",
      "combined": "integer or null"
    },
    "engine": "string",
    "engine_displacement": "string",
    "cylinder_count": "integer or null",
    "drivetrain": "string",
    "transmission_type": "string",
    "transmission_speeds": "string or null",
    "truck_body_style": "string or null",
    "rear_axle_configuration": "string or null",
    "wheelbase": "number or string or null",
    "axle_ratio": "number or null",
    "axle_ratio_type": "string or null",
    "bed_length": "string or null",
    "towing_capacity": "integer or null",
    "payload_capacity": "integer or null",
    "cargo_volume": "number or null",
    "third_row_seating": "boolean or null",
    "ground_clearance": "number or null",
    "cargo_length": "string or null",
    "roof_height": "string or null",
    "horsepower": "integer or null",
    "torque": "integer or null",
    "battery_capacity": "string or null",
    "range_estimate": "integer or null"
  }
}
